{% assign video_paths = include.videos | split: ", " %}
{% assign gallery_height = include.height | default: "300" %}

<div class="video-gallery" style="--gallery-height: {{ gallery_height }}px;">
  {% for video_path in video_paths %}
    {% assign video_name = video_path | strip %}

    {% if video_name contains 'https://' %}
      <video
        src="{{ video_name }}"
        controls
        preload="metadata"
        playsinline
        style="height: var(--gallery-height);"
      >
        Your browser does not support the video tag.
      </video>
    {% else %}
      {% assign page_url_without_index = page.url | remove: 'index' | remove: '.html' %}
      <video
        controls
        preload="metadata"
        playsinline
        style="height: var(--gallery-height);"
      >
        <source src="{{ page_url_without_index }}{{ video_name }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    {% endif %}
  {% endfor %}
</div>
